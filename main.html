<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Main Page - Stonecraft</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <!-- HEAD of main.html -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  <!-- <link rel="stylesheet" href="testimonialstyle.css"> -->

</head>

<body>

  <!-- Hero section placeholder -->
  <div id="hero-container"></div>
  <!-- Script to load hero and about.html -->
  <script>fetch("hero.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("hero-container").innerHTML = data;

        const script = document.createElement("script");
        script.src = "heroabout-script.js";
        document.body.appendChild(script);
      })
      .catch(err => console.error("Error loading hero section:", err));
  </script>



  <!-- Products section -->
  <div id="products-section"></div>

  <!-- Script to load products.html -->
  <script>
    fetch("products-partial.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("products-section").innerHTML = data;

        const existingCSS = document.querySelector('link[href="products.css"]');
        if (!existingCSS) {
          const cssLink = document.createElement("link");
          cssLink.rel = "stylesheet";
          cssLink.href = "products.css";
          document.head.appendChild(cssLink);
        }

        if (!window.Swiper) {
          const swiperScript = document.createElement("script");
          swiperScript.src = "https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js";
          swiperScript.onload = () => {
            initializeProductSwiper();
          };
          document.body.appendChild(swiperScript);
        } else {
          initializeProductSwiper();
        }
      })
      .catch(err => console.error("Error loading products section:", err));

    function initializeProductSwiper() {

      document.querySelectorAll('.swiper').forEach((swiperEl) => {
        new Swiper(swiperEl, {
          loop: true,
          autoplay: {
            delay: 2500,
            disableOnInteraction: false
          },
        });
      });
      setTimeout(() => {
        document.querySelectorAll('.product-card').forEach(card => {
          card.classList.add('loaded');
        });
      }, 300);
    }
  </script>


<!-- ✅ Testimonials Section (add this) -->
<div id="testimonials-section"></div>
<script>
  fetch('testimonials.html')
    .then(res => res.text())
    .then(data => {
      const section = document.getElementById('testimonials-section');
      section.innerHTML = data;

      // ✅ Dynamically load testimonials-script.js after content is injected
      const script = document.createElement('script');
      script.src = 'testimonials-script.js'; // or 'js/script.js' depending on your folder
      script.defer = true; // optional, to make sure DOM is ready
      document.body.appendChild(script);
    });
</script>

  <!-- Footer placeholder -->
  <div id="footer-placeholder"></div>


  <!-- Script to load footer.html -->
  <script>
    fetch("footer.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("footer-placeholder").innerHTML = data;

        // OPTIONAL: re-run the footer script after loading, if needed
        const script = document.createElement("script");
        script.src = "footer-script.js"; // move your script from <footer.html> into this file
        document.body.appendChild(script);
      })
      .catch(err => console.error("Error loading footer:", err));
  </script>

</body>

</html>